@using FInalProject.ViewModels;
@model List<AuthorListViewModel>
@{
    ViewBag.Title = "All Authors";
}
<div class="container mt-4">
    <h2 class="mb-4">All Authors</h2>
    @if (!User.Identity.IsAuthenticated)
    {
        <h2>Login to access the library</h2>
    }


    else
    {
        @await Html.PartialAsync("_AuthorsPageSearchBar")
        
        if(Model.Count == 0)
        {
            <h2>Empty search</h2>
        }
        @foreach (var author in Model)
    {
        <div class="d-flex align-items-center justify-content-between mb-4 p-4 border rounded shadow-sm"
             style="min-height: 12rem;">
            <!-- Portrait -->
            <div style="flex: 0 0 15%;">
                <img src="@author.AuthorPortrait"
                     class="img-fluid rounded"
                     alt="Author Portrait"
                     style="width: 100%; height: 100%; max-height: 10rem; object-fit: cover;" />
            </div>

            <!-- Name -->
            <div style="flex: 0 0 25%;" class="text-center">
                <h5 class="mb-0">@author.AuthorName</h5>
            </div>

            <!-- Favourites -->
            <div style="flex: 0 0 25%;" class="text-center">
                <p class="mb-0"><strong>Favourites:</strong> @author.Favourites</p>
            </div>

            <!-- Profile Button -->
            <div style="flex: 0 0 20%;" class="text-end">
                <a href="@Url.Action("AuthorProfile", "Authors", new { authorId = author.AuthorId })" class="btn btn-primary">
                    See Author's Profile
                </a>
            </div>
        </div>
    }
}
</div>
    